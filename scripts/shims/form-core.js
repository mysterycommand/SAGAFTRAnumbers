webshims.register("form-core",function(a,b,c,d,e,f){"use strict";b.capturingEventPrevented=function(b){if(!b._isPolyfilled){var c=b.isDefaultPrevented,d=b.preventDefault;b.preventDefault=function(){return clearTimeout(a.data(b.target,b.type+"DefaultPrevented")),a.data(b.target,b.type+"DefaultPrevented",setTimeout(function(){a.removeData(b.target,b.type+"DefaultPrevented")},30)),d.apply(this,arguments)},b.isDefaultPrevented=function(){return!(!c.apply(this,arguments)&&!a.data(b.target,b.type+"DefaultPrevented"))},b._isPolyfilled=!0}},Modernizr.formvalidation&&!b.bugs.bustedValidity&&b.capturingEvents(["invalid"],!0);var g=function(b){return(a.prop(b,"validity")||{valid:1}).valid},h=function(){var c=["form-validation"];f.lazyCustomMessages&&(f.customMessages=!0,c.push("form-message")),f.addValidators&&c.push("form-validators"),b.reTest(c),a(d).off(".lazyloadvalidation")},i=function(b){var c=!1;return a(b).jProp("elements").each(function(){return c=a(this).is(":invalid"),c?!1:void 0}),c},j=/^(?:form)$/i;a.extend(a.expr[":"],{"valid-element":function(b){return j.test(b.nodeName||"")?!i(b):!(!a.prop(b,"willValidate")||!g(b))},"invalid-element":function(b){return j.test(b.nodeName||"")?i(b):!(!a.prop(b,"willValidate")||g(b))},"required-element":function(b){return!(!a.prop(b,"willValidate")||!a.prop(b,"required"))},"user-error":function(b){return a.prop(b,"willValidate")&&a(b).hasClass("user-error")},"optional-element":function(b){return!(!a.prop(b,"willValidate")||a.prop(b,"required")!==!1)}}),["valid","invalid","required","optional"].forEach(function(b){a.expr[":"][b]=a.expr.filters[b+"-element"]});var k=a.expr[":"].focus;a.expr[":"].focus=function(){try{return k.apply(this,arguments)}catch(a){b.error(a)}return!1},b.triggerInlineForm=function(b,c){a(b).trigger(c)};var l=function(a,c,d){h(),b.ready("form-validation",function(){a[c].apply(a,d)})},m="transitionDelay"in d.documentElement.style?"":" no-transition";b.wsPopover={id:0,_create:function(){this.options=a.extend({},b.cfg.wspopover,this.options),this.id=b.wsPopover.id++,this.eventns=".wsoverlay"+this.id,this.timers={},this.element=a('<div class="ws-popover'+m+'" tabindex="-1"><div class="ws-po-outerbox"><div class="ws-po-arrow"><div class="ws-po-arrowbox" /></div><div class="ws-po-box" /></div></div>'),this.contentElement=a(".ws-po-box",this.element),this.lastElement=a([]),this.bindElement(),this.element.data("wspopover",this)},options:{},content:function(a){this.contentElement.html(a)},bindElement:function(){var a=this,b=function(){a.stopBlur=!1};this.preventBlur=function(){a.stopBlur=!0,clearTimeout(a.timers.stopBlur),a.timers.stopBlur=setTimeout(b,9)},this.element.on({mousedown:this.preventBlur})},show:function(){l(this,"show",arguments)}},b.validityAlert={showFor:function(){l(this,"showFor",arguments)}},b.getContentValidationMessage=function(b,c,d){var e=a(b).data("errormessage")||b.getAttribute("x-moz-errormessage")||"";return d&&e[d]&&(e=e[d]),"object"==typeof e&&(c=c||a.prop(b,"validity")||{valid:1},c.valid||a.each(c,function(a,b){return b&&"valid"!=a&&e[a]?(e=e[a],!1):void 0})),"object"==typeof e&&(e=e.defaultMessage),e||""},a.fn.getErrorMessage=function(c){var d="",e=this[0];return e&&(d=b.getContentValidationMessage(e,!1,c)||a.prop(e,"customValidationMessage")||a.prop(e,"validationMessage")),d},a(d).on("focusin.lazyloadvalidation",function(b){"form"in b.target&&a(b.target).is(":invalid")&&h()}),b.ready("WINDOWLOAD",h),f.replaceValidationUI&&b.ready("DOM forms",function(){a(d).on("firstinvalid",function(a){a.isInvalidUIPrevented()||(a.preventDefault(),b.validityAlert.showFor(a.target))})}),function(){var b,c,e=[];a(d).on("invalid",function(f){if(!f.wrongWebkitInvalid){var g=a(f.target);if(!b){b=a.Event("firstinvalid"),b.isInvalidUIPrevented=f.isDefaultPrevented;var h=a.Event("firstinvalidsystem");a(d).triggerHandler(h,{element:f.target,form:f.target.form,isInvalidUIPrevented:f.isDefaultPrevented}),g.trigger(b)}b&&b.isDefaultPrevented()&&f.preventDefault(),e.push(f.target),f.extraData="fix",clearTimeout(c),c=setTimeout(function(){var c={type:"lastinvalid",cancelable:!1,invalidlist:a(e)};b=!1,e=[],a(f.target).trigger(c,c)},9),g=null}})}()});